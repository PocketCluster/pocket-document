<!DOCTYPE html>
<html lang="en">
<head>
    <title>Supporting Common App Behaviors</title>
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta charset="utf-8">
    <meta id="book-resource-type" name="book-resource-type" content="Guide">
    <meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40010543">
    <meta id="document-version" name="document-version" content="5.2.0">
    <meta id="build" name="build" content="ded95564c405529dbbbe590063edd114" />
    <meta id="chapterId" name="chapterId" content="TP40010543-CH7">
    <meta id="date" name="date" content="2015-03-09">
    <meta id="description" name="description" content="Introduces the development process for Mac apps.">
    <meta id="book-title" name="book-title" content="Mac App Programming Guide">
    <meta id="book-root" name="book-root" content="../">
    <meta id="book-json" name="book-json" content="../book.json">
    <meta id="devcenter" name="devcenter" content="Mac Dev Center">
    <meta id="devcenter-url" name="devcenter-url" content="http://developer.apple.com/devcenter/mac">
    <meta id="reflib" name="reflib" content="Guides and Sample Code">
    <meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Technologies/Cocoa Layer/AppKit}, {Topic/General}">
    
    
    <meta id="copyright" name="copyright" content="Copyright 2017 Apple Inc. All Rights Reserved.">
    <meta id="xcode-display" name="xcode-display" content="render">
    <meta id="IndexTitle" name="IndexTitle" content="Mac App Programming Guide: Supporting Common App Behaviors">
    <meta id="resources-uri" name="resources-uri" content="../../../../../Resources/1260">
    <link id="book-index-page" rel="Start" title="Mac App Programming Guide" type="text/html" href="../index.html">
    <link id="next-page" rel="Next" type="text/html" href="../BuildTimeConfiguration/BuildTimeConfiguration.html">
    <link id="previous-page" rel="Prev" type="text/html" href="../FullScreenApp/FullScreenApp.html">
    <link rel="stylesheet" type="text/css" href="../../../../../Resources/1260/CSS/screen.css">
    
    <!-- xcode_css -->
    <link rel="stylesheet" type="text/css" href="../../../../../Resources/1260/CSS/feedback.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta id="platforms" name="platforms" content="">
</head>    
<body><a name="//apple_ref/doc/uid/TP40010543-CH7" title="Supporting Common App Behaviors"></a>
    <div id="_omniture_top">
    <!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
    <script type="text/javascript">
    /* RSID: */
    var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
    </script>

    <script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script>
    <script type="text/javascript">
    s.pageName=AC.Tracking.pageName();
    s.channel="www.us.developer"

    /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
    var s_code=s.t();if(s_code)document.write(s_code)</script>
    <!-- End SiteCatalyst code version: H.8. -->
    </div>

    <div id="adcHeader" class="hideOnPrint hideInXcode">
        <div id='ssi_Header' class="hideInXcode unified">
            <a id="ssi_LibraryTitle" href='../../../../../navigation/'>Guides and Sample Code</a>
            <a id="ssi_AppleDeveloperConnection" href='https://developer.apple.com/'>Developer</a>
            <div id='ssi_SearchButton' role="button" title="Search">Search</div>
        </div>
        <form id='ssi_SearchMenu' method='get' action='../../../../../search/' accept-charset='utf-8'>
            <label for='adcsearch'>Search Guides and Sample Code</label>
            
            
    
            <input type='search' id='ssi_SearchField' name='q' accesskey='s' results='5' />
        </form>
    </div>

    <header id="header">
        <div id="title" role="banner">
            <h1>Mac App Programming Guide</h1>
            <span id="file_links">
                <a id="PDF_link" role="button" tabindex='4' rel="alternate" title="Download PDF"><span id="pdf_icon"></span>PDF</a>
                <a id="Companion_link" role="button" tabindex='3' title="Download Companion File"><span id="companion_icon"></span>Companion File</a>
            </span>
        </div>
        <ul id="headerButtons" class="hideOnPrint" role="toolbar">
            <li id="toc_button" style="display:none">
                <button tabindex="5" id="table_of_contents" class="open" role="checkbox" aria-label="Show Table of Contents"><span class="disclosure"></span>Table of Contents</button>
            </li>
            <li id="jumpto_button" style="display:none" role="navigation"><select tabindex="6" id="jumpTo"><option value="top">Jump To&#133;</option></select></li>
            <li id="downloadSample_button" style="display:none">
                <a id="Sample_link"><button id="Sample_button">Download Sample Code</button></a>
            </li>
        </ul>
    </header>
    <nav id="tocContainer" tabindex="7">
        <ul id="toc" role="tree"></ul>
    </nav>

    <article id="contents" tabindex="0" role="main">
        <div id="pageNavigationLinks_top" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='../BuildTimeConfiguration/BuildTimeConfiguration.html'>Next</a><a class='previousLink' rel='prev' href='../FullScreenApp/FullScreenApp.html'>Previous</a>
        </div>
        <a id="top" name="top"></a>
        <a id="INDEX" href="../index.html" style="display:none;"></a>
        
        <a name="//apple_ref/doc/uid/TP40010543-CH7-SW1" title="Supporting Common App Behaviors"></a><h1 id="pageTitle">Supporting Common App Behaviors</h1><p>During the design phase of creating your app, you need to think about how to implement certain features that users expect in well-formed Mac apps. Integrating these features into your app architecture can have an impact on the data model or may require cooperation between significantly different portions in the app.</p><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW3" title="You Can Prevent the Automatic Relaunch of Your App"></a><h2 class="jump">You Can Prevent the Automatic Relaunch of Your App</h2><p>By default, as part of the Resume feature of OS X v10.7, apps that were open at logout are relaunched by the system when the user logs in again. You can prevent the automatic relaunching of your app at login by sending it a <code>disableRelaunchOnLogin</code> message. This <code>NSApplication</code> method increments a counter that controls the app being relaunched; if the counter is 0 at the time the user logs out, then the app is relaunched when the user logs back in. The counter is initially zero, providing the default relaunch behavior.</p><p>Your can reinstate automatic relaunching of your app by sending it an <code>enableRelaunchOnLogin</code> message. This message decrements the relaunch counter, so an equal number of <code>disableRelaunchOnLogin</code> and <code>enableRelaunchOnLogin</code> messages enables relaunching. Both methods are thread safe.</p><p>If your app should not be relaunched because it launches via some other mechanism, such as the <code>launchd</code> system process, then the recommended practice is to send the app a <code>disableRelaunchOnLogin</code> message once, and never pair it with an <code>enableRelaunchOnLogin</code> message.</p><p>If your app should not be relaunched because it triggers a restart (for example, if it is an installer), then the recommended practice is to send it a <code>disableRelaunchOnLogin</code> message immediately before you attempt to trigger a restart and send it an <code>enableRelaunchOnLogin</code> message immediately after. This procedure handles the case where the user cancels restarting; if the user later restarts for another reason, then your app should be relaunched.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW2" title="Making Your App Accessible Enables Many Users"></a><h2 class="jump">Making Your App Accessible Enables Many Users</h2><p>Millions of people have a disability or special need. These include visual and hearing impairments, physical disabilities, and cognitive and learning challenges. Access to computers is vitally important for this population, because computers can provide a level of independence that is difficult to attain any other way. As populations around the world age, an increasing number of people will experience age-related disabilities, such as vision or hearing loss. Current and future generations of the elderly will expect to be able to continue using their computers and accessing their data, regardless of the state of their vision and hearing. Apps that support customizable text displays, access by a screen reader, or the replacement of visual cues by audible ones can serve this population well.</p><p>OS X is designed to accommodate assistive technologies and has many built-in features to help people with disabilities. Users access most of this functionality through the Universal Access pane of System Preferences. Some of these built-in technologies take advantage of the same accessibility architecture that allows external assistive technologies to access your app. Designing your app with accessibility in mind not only allows you to reach a larger group of users, it results in a better experience for all your users.</p><p>As a first step in designing your app, be sure to read <em><a href="../../../../UserExperience/Conceptual/OSXHIGuidelines/index.html#//apple_ref/doc/uid/20000957" data-renderer-version="2" target="_self">macOS Human Interface Guidelines</a></em>. That book provides detailed specifications and best practices for designing and implementing an intuitive, consistent, and aesthetically pleasing user interface that delivers the superlative experience Macintosh users have come to expect. During the design process, you also should be aware of the accessibility perspective on many basic design considerations. Consider the following basic accessibility-related design principles:</p><ul class="ul"><li class="li"><p><strong>Support full keyboard navigation.</strong> For many users, a mouse is difficult, if not impossible, to use. Consequently, a user should be able to perform all your app’s functions using the keyboard alone.</p></li><li class="li"><p><strong>Don’t override built-in keyboard shortcuts.</strong> This applies both to the keyboard shortcuts OS X reserves (listed in <span class="content_text"><!--a target="_self" -->Keyboard Shortcuts<!--/a--></span>) and to the accessibility-related keyboard shortcuts (listed in <span class="content_text"><a href="../../../../Accessibility/Conceptual/AccessibilityMacOSX/OSXAXKeyboardShortcuts.html#//apple_ref/doc/uid/TP40001078-CH253" data-renderer-version="2" target="_self">Accessibility Keyboard Shortcuts</a></span>). As a general rule, you should never override reserved keyboard shortcuts. In particular, you should take care not to override accessibility-related keyboard shortcuts or your app will not be accessible to users who enable full keyboard access.</p><p>A corollary to this principle is to avoid creating too many new keyboard shortcuts that are specific to your app. Users should not have to memorize a new set of keyboard commands for each app they use.</p></li><li class="li"><p><strong>Provide alternatives for drag-and-drop operations.</strong> If your app relies on drag-and-drop operations in its workflow, you should provide alternate ways to accomplish the same tasks. This may not be easy; in fact, it may require the design of an alternate interface for apps that are heavily dependent on drag and drop.</p></li><li class="li"><p><strong>Make sure there’s always a way out of your app’s workflow.</strong> This is important for all users, of course, but it’s essential for users of assistive technologies. A user relying on an assistive app to use your app may have a somewhat narrower view of your app’s user interface. For this reason, it’s especially important to make canceling operations and retracing steps easy.</p></li></ul><p>In addition to the basic design principles, you should consider the requirements of specific disabilities and resulting design solutions and adaptations you can implement.  The main theme of these suggestions is to provide as many alternate modes of content display as possible, so that users can find the way that suits their needs best. Consider the following categories of disabilities:</p><ul class="ul"><li class="li"><p><strong>Visual Disabilities.</strong> Visual disabilities include blindness, color blindness, and low vision. Make your app accessible to assistive apps, such as screen readers. Ensure that color is not the only source of come particular information in your user interface. Provide an audio option for all visual cues and feedback, as well as succinct descriptions of images and animated content.</p></li><li class="li"><p><strong>Hearing Disabilities.</strong> When you design the audio output of your app, remember that some users may not be able to hear your app’s sound effects well or at all. And, of course, there are situations in which any user could not use audio output effectively, such as in a library. Providing redundant audio and visual output can aid comprehension for users with other types of disabilities as well, such as cognitive and learning disabilities.</p></li><li class="li"><p><strong>Motor and Cognitive Disabilities.</strong> People with motor disabilities may need to use alternatives to the standard mouse and keyboard input devices. Other users may have difficulty with the fine motor control required to double-click a mouse or to press key combinations on the keyboard. Users with cognitive or learning disabilities may need extra time to complete tasks or respond to alerts.</p></li></ul><p>OS X provides support for many types of disabilities at the system level through solutions offered in the Universal Access system preferences, illustrated in <span class="content_text">Figure 4-1</span>. In addition, most standard Cocoa objects implement accessibility through the <code>NSAccessibility</code> protocol, providing reasonable default behavior in most cases, Cocoa apps built with standard objects are automatically accessible. In general, you need to explicitly implement the <code>NSAccessibility</code> protocol methods only if you subclass one of them, adding new behavior.</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40010543-CH7-SW11" title="Figure 4-1Universal Access system preference dialog"></a><figcaption><strong class="caption_number">Figure 4-1</strong>&nbsp;&nbsp;Universal Access system preference dialog</figcaption><img src="../Art/access_pref_dialog_2x.png" alt="" width="469" height="347"></figure><p>The <code>NSAccessibility</code> informal protocol defines methods that Cocoa classes must implement to make themselves available to an external assistive app. An assistive app interacts with your app to allow persons with disabilities to use your app. For example, a person with a visual impairment could use an app to convert menu items and button labels into speech and then perform actions by verbal command.</p><p>An accessible object is described by a set of attributes that define characteristics such as the object type, its value, its size and position on the screen, and its place in the accessibility hierarchy. For some objects, the set of attributes can include parameterized attributes. Parameterized attributes behave similar to a function by allowing you to pass a parameter when requesting an attribute value.</p><p>For more information, see <em><a href="../../../../Accessibility/Conceptual/AccessibilityMacOSX/index.html#//apple_ref/doc/uid/TP40001078" data-renderer-version="2" target="_self">Accessibility Programming Guide for OS X</a></em>.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW4" title="Provide User Preferences for Customization"></a><h2 class="jump">Provide User Preferences for Customization</h2><p>Preferences are settings that enable users to customize the appearance or behavior of your software. The OS X user defaults system lets you access and manage user preferences. You can use the defaults system to provide reasonable initial values for app settings, as well as save and retrieve the user's own preference selections across sessions. The Cocoa <code>NSUserDefaults</code> class provides programmatic access to the user defaults system.</p><p>The <code>NSUserDefaults</code> class provides convenience methods for accessing common types such as floats, doubles, integers, Booleans, and URLs. A default object must be a property list, that is, an instance of (or for collections a combination of instances of): <code>NSData</code>, <code>NSString</code>, <code>NSNumber</code>, <code>NSDate</code>, <code>NSArray</code>, or <code>NSDictionary</code>. If you want to store any other type of object, you should typically archive it to create an instance of <code>NSData</code>.</p><p>The user defaults system groups defaults into domains. Two of the domains are persistently saved in the user defaults database: the app domain stores app-specific defaults, and the global domain stores defaults applicable to all apps. In addition, the user defaults system provides three volatile domains whose values last only while the user defaults object exists: the argument domain for defaults set from command-line arguments, the languages domain containing defaults for a locale if one is specified, and the registration domain for “factory defaults” registered by the app.</p><p>Your app uses the <code>NSUserDefaults</code> class to register default preferences, and typically it also provides a user interface (a preferences panel) that enables the user to change those preferences. Preferences are stored in the <code>~/Library/Preferences/</code> folder in a standard XML-format property list file as a set of key-value pairs. The app-specific preferences property list is identified by the bundle identifier of the app.</p><p>For more details, see <em><a href="../../../../Cocoa/Conceptual/UserDefaults/Introduction/Introduction.html#//apple_ref/doc/uid/10000059i" data-renderer-version="1" target="_self">Preferences and Settings Programming Guide</a></em>.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW5" title="Integrate Your App With Spotlight Search"></a><h2 class="jump">Integrate Your App With Spotlight Search</h2><p>Spotlight is a fast desktop search technology that allows users to organize and search for files based on metadata. Metadata is data about a file, rather than the actual content stored in the file. Metadata can include familiar information such as an asset’s author and modification date but it can also be keywords or other information that is custom to a particular asset. For example, an image file might have metadata describing the image’s dimensions and color model.</p><p>Developers of apps that save documents to disk should consider providing Spotlight support by implementing a metadata importer. A Spotlight metadata importer is a small plug-in bundle that you create to extract information from files created by your app. Spotlight importers are used by the Spotlight server to gather information about new and existing files, as illustrated in <span class="content_text">Figure 4-2</span>.</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40010543-CH7-SW12" title="Figure 4-2Spotlight extracting metadata"></a><figcaption><strong class="caption_number">Figure 4-2</strong>&nbsp;&nbsp;Spotlight extracting metadata</figcaption><img src="../Art/spotlight_data_collect_2x.png" alt="" width="627" height="196"></figure><p>Apple provides importers for many standard file types that the system uses, including RTF, JPEG, Mail, PDF and MP3. However, if you define a custom document format, you must create a metadata importer for your own content. Xcode provides a template for writing Spotlight importer plug-ins. For information about writing a Spotlight importer, see <em><a href="../../../../Carbon/Conceptual/MDImporters/MDImporters.html#//apple_ref/doc/uid/TP40001267" data-renderer-version="1" target="_self">Spotlight Importer Programming Guide</a></em>.</p><p>In addition, you may wish to provide metadata search capability in your app. Cocoa provides the <code>NSMetadataQuery</code> class which enables you to construct queries using a subset of the <code>NSPredicate</code> classes and execute the queries asynchronously. For information about providing Spotlight search capability in your app, see <em><a href="../../../../Carbon/Conceptual/SpotlightQuery/Concepts/Introduction.html#//apple_ref/doc/uid/TP40001841" data-renderer-version="1" target="_self">File Metadata Search Programming Guide</a></em>.</p><p>For more information about Spotlight, see <em><a href="../../../../Carbon/Conceptual/MetadataIntro/MetadataIntro.html#//apple_ref/doc/uid/TP40001268" data-renderer-version="1" target="_self">Spotlight Overview</a></em>.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW6" title="Use Services to Increase Your App’s Usefulness"></a><h2 class="jump">Use Services to Increase Your App’s Usefulness</h2><p>Services allow a user to access the functionality of one app from within another app. An app that provides a service advertises the operations it can perform on a particular type of data—for example, encryption of text, optical character recognition of a bitmapped image, or generating text such as a message of the day. When the user is manipulating that particular type of data in some app, the user can choose the appropriate item in the Services menu to operate on the current data selection (or merely insert new data into the document).</p><p>See <em><a href="../../../../Cocoa/Conceptual/SysServices/introduction.html#//apple_ref/doc/uid/10000101i" data-renderer-version="1" target="_self">Services Implementation Guide</a></em> for more information.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW7" title="Optimize for High Resolution"></a><h2 class="jump">Optimize for High Resolution</h2><p>High-resolution displays provide a rich visual experience, allowing users to see sharper text and more details in photos than on standard-resolution displays. The high-resolution model for OS X enables your app to draw into an abstract coordinate space called <strong>user space</strong>, without regard for the characteristics of the final drawing destination—printer, display screen, bitmap, or PDF—and without regard to the resolution of the display.</p><p>OS X provides much support for high-resolution automatically. For example, standard AppKit views and controls automatically render correctly at any resolution, vector-based content automatically uses additional pixels to render sharper lines and shapes, Cocoa text displays sharper in high-resolution, and AppKit automatically loads high-resolution variants of your images.</p><p>You must do the following things to optimize your app for high-resolution:</p><ul class="ul"><li class="li"><p>Provide properly-named high-resolution versions of your bitmapped images.</p></li><li class="li"><p>Use high-resolution-savvy image-loading methods.</p></li><li class="li"><p>Use the most recent APIs that support high resolution.</p></li></ul><p>These techniques are described in the following sections.</p><section><a name="//apple_ref/doc/uid/TP40010543-CH7-DontLinkElementID_2" title="Think About Points, Not Pixels"></a><h3 class="jump">Think About Points, Not Pixels</h3><p>OS X refers to screen size in points, not pixels. A point is one unit in user space, prior to any transformations on the space. Because, on a high-resolution display, there are four onscreen pixels for each point, points can be expressed as floating-point values. Values that are integers in standard resolution, such as mouse coordinates, are floating-point values on a high-resolution display, allowing for greater precision for such things as graphics alignment.</p><p>Your app draws to a view using points in user space. The window server composites drawing operations to an offscreen buffer called the <strong>backing store</strong>. When it comes time to display the contents of the backing store onscreen, the window server scales the content appropriately, mapping points to onscreen pixels. The result is that if you draw the same content on two similar devices, and only one of them has a high-resolution screen, the content appears to be about the same size on both devices, as shown in <span class="content_text">Figure 4-3</span>.</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40010543-CH7-SW10" title="Figure 4-3Content appears the same size at standard resolution and high resolution "></a><figcaption><strong class="caption_number">Figure 4-3</strong>&nbsp;&nbsp;Content appears the same size at standard resolution and high resolution </figcaption><img src="../Art/backing_store_2x.png" alt="" width="532" height="175"></figure><p>In some situations you may need to know how points are mapped to pixels, in which case you can obtain the <strong>backing scale factor</strong> which is always either 1.0 or 2.0. The backing scale factor is a property of a layer, view, or window, and it depends on the resolution of the underlying display device.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW13" title="Provide High-Resolution Versions of Graphics"></a><h3 class="jump">Provide High-Resolution Versions of Graphics</h3><p>OS X automatically magnifies standard-resolution bitmapped images so they appear to the user in the correct size, but they appear fuzzy. To avoid this problem, you must provide high-resolution versions of your graphics, along with the standard-resolution versions in the app bundle. In addition to any images your app displays, you must do this for your app’s icons and any custom controls, cursors, and other artwork.</p><p>High-resolution graphics must be scaled with twice as many pixels in each dimension to display the same size in user space. For example, if you supply a standard-resolution image sized at 50x50 pixels, the high-resolution version must be sized at 100x100 pixels.</p><p>For AppKit to recognize and load high-resolution versions of your graphics at appropriate times, you must adopt the naming convention of appending <code>@2x</code> to the image name. For example, a standard-resolution image named <code>circle.png</code> would have a high-resolution counterpart named <code>circle@2x.png</code>. Ideally, you can package both image versions into a single TIFF file. This is most easily done by setting the Xcode option Combine High Resolution Artwork to <code>Yes</code> in Target Build Settings under Deployment.</p><p>You should create a set of icons for your app consisting of standard- and high-resolution versions of each icon size—16x16, 32x32, 128x128, 256x256, 512x512 appending <code>@2x</code> to the icon image name which, by convention, specifies the icon size in user space points. For example, an icon named <code>icon_16x16.png</code> would have a high-resolution counterpart named <code>icon_16x16@2x.png</code>, the <code>icon_32x32.png</code> size would have a version named <code>icon_32x32@2x.png</code>, and so on. </p><p>After you’ve created your set of app icons, place them in folder a named <code>icon.iconset</code>. Then you can use the <code>iconutil</code> command-line tool to convert your <code>.iconset</code> folder into a single, deployment-ready, high-resolution <code>.icns</code> file.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-DontLinkElementID_3" title="Use High-Resolution-Savvy Image-Loading Methods"></a><h3 class="jump">Use High-Resolution-Savvy Image-Loading Methods</h3><p>If you follow the <code>@2x</code> naming convention, there are two methods available that load standard- and high-resolution versions of an image into an <code>NSImage</code> object, whether or not you provide a multirepresentation image file:</p><ul class="ul"><li class="li"><p>The <code>NSImage</code> method <code><a href="https://developer.apple.com/reference/appkit/nsimage/1520015-imagenamed" target="_self" class="urlLink">imageNamed:</a></code> finds resources located in the main application bundle, but not in frameworks or plug-ins.</p></li><li class="li"><p>The <code>NSBundle</code> method <code><a href="https://developer.apple.com/reference/foundation/bundle/1519901-image" target="_self" class="urlLink">imageForResource:</a></code> looks for resources outside as well as inside the main bundle. Framework authors should use this method.</p></li></ul><p>To create an <code>NSImage</code> object from a <code>CGImageRef</code> data type, use the <code><a href="https://developer.apple.com/reference/appkit/nsimage/1519939-initwithcgimage" target="_self" class="urlLink">initWithCGImage:size:</a></code> method, specifying the image size in points, not pixels. For custom cursors, you can pass a multirepresentation TIFF to the <code>NSCursor</code> class method <code><a href="https://developer.apple.com/reference/appkit/nscursor/1524612-initwithimage" target="_self" class="urlLink">initWithImage:hotSpot:</a></code>.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-DontLinkElementID_4" title="Use APIs That Support High Resolution"></a><h3 class="jump">Use APIs That Support High Resolution</h3><p>Cocoa apps must replace deprecated APIs with their newer counterparts. Apps that use older technologies need to replace those technologies with newer ones. <code>NSImage</code>, <code>NSView</code>, <code>NSWindow</code>, and <code>NSScreen</code> classes have methods that support high resolution, including methods for converting geometry, detecting scaling, and aligning pixels. These APIs and deprecated technologies that you must avoid are described in <em><a href="../../../../GraphicsAnimation/Conceptual/HighResolutionOSX/Introduction/Introduction.html#//apple_ref/doc/uid/TP40012302" data-renderer-version="1" target="_self">High Resolution Guidelines for OS X</a></em>.</p><p>You should also consider whether your app requires further adjustments for special scenarios, such as using pixel-based technologies (OpenGL, Quartz bitmaps) or custom Core Animation layers. These advanced optimization techniques are described in <em><a href="../../../../GraphicsAnimation/Conceptual/HighResolutionOSX/Introduction/Introduction.html#//apple_ref/doc/uid/TP40012302" data-renderer-version="1" target="_self">High Resolution Guidelines for OS X</a></em>, which also provides much more detailed information about high resolution.</p></section></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW8" title="Prepare for Fast User Switching"></a><h2 class="jump">Prepare for Fast User Switching</h2><p>Fast user switching lets users share a single machine without having to log out every time they want to access their user account. Users share physical access to the machine, including the same keyboard, mouse, and monitor. However, instead of logging out, a new user simply logs in and switches out the previous user.</p><p>Processes in a switched-out login session continue running as before. They can continue processing data, communicating with the system, and drawing to the screen buffer as before. However, because they are switched out, they do not receive input from the keyboard and mouse. Similarly, if they were to check, the monitor would appear to be in sleep mode. As a result, it may benefit some apps to adjust their behavior while in a switched-out state to avoid wasting system resources.</p><p>While fast user switching is a convenient feature for users, it does provide several challenges for app developers. Apps that rely on exclusive access to certain resources may need to modify their behavior to live in a fast user switching environment. For example, an app that stores temporary data in <code>/tmp</code> may run into problems when a second instance running under a different user tries to modify the same files in that directory.</p><p>To support fast user switching, there are certain guidelines you should follow in developing your apps, most of which describe safe ways to identify and share system resources. A summary of these guidelines is as follows:</p><ul class="ul"><li class="li"><p>Incorporate session ID information into the name of any entity that appears in a global namespace, including file names, shared memory regions, semaphores, and named pipes.</p><p>Tagging such app-specific resources with a session ID is necessary to distinguish them from similar resources created by apps in a different session. The Security layer of the system assigns a unique ID to each login session. Incorporating this ID into cache file or temporary directory names can prevent namespace collisions when creating these files. See <span class="content_text"><a href="../../../../MacOSX/Conceptual/BPMultipleUsers/Concepts/FastUserSwitching.html#//apple_ref/doc/uid/20002209" data-renderer-version="1" target="_self">Supporting Fast User Switching</a></span> for information on how to get the session ID.</p></li><li class="li"><p>Don't assume you have exclusive access to any resource, especially TCP/IP ports and hardware devices.</p></li><li class="li"><p>Don't assume there is only one instance of a per-user service running.</p></li><li class="li"><p>Use file-level or range-level locks when accessing files.</p></li><li class="li"><p>Accept and handle user switch notifications. See <span class="content_text"><a href="../../../../MacOSX/Conceptual/BPMultipleUsers/Concepts/UserSwitchNotifications.html#//apple_ref/doc/uid/20002210" data-renderer-version="1" target="_self">User Switch Notifications</a></span> for more information.</p></li></ul><p>For more information on user switching, see <em><a href="../../../../MacOSX/Conceptual/BPMultipleUsers/BPMultipleUsers.html#//apple_ref/doc/uid/10000180i" data-renderer-version="1" target="_self">Multiple User Environment Programming Topics</a></em>.</p></section><section><a name="//apple_ref/doc/uid/TP40010543-CH7-SW9" title="Take Advantage of the Dock"></a><h2 class="jump">Take Advantage of the Dock</h2><p>The Dock is a desktop app designed to reduce desktop clutter, provide users with feedback about an app, and allow users to switch easily between tasks. You can customize your app Dock tile by modifying the Dock icon and adding items to the menu displayed for your app, and you can customize the Dock icon of a minimized window.</p><p>An app’s Dock icon is, by default, the app’s icon. While your app is running, you can modify or replace the default icon with another image that indicates the current state of your app. For example, the icon for Mail changes when messages are waiting to be read. A badge—the red circle and number in the figure—is overlaid onto Mail’s app icon to indicate the number of unread messages. The number changes each time Mail retrieves more messages.</p><p>When the user holds the Control key down and clicks on a Dock tile, a menu appears. If your app does nothing to customize the menu, the Dock tile’s menu contains a list of the app’s open documents (if any), followed by the standard menu items Keep in Dock, Open at Login, Show in Finder, Hide, and Quit. You can add other menu items to the Dock menu, either statically by providing a custom menu nib file, or dynamically by overriding the application delegate’s <code><a href="https://developer.apple.com/reference/appkit/nsapplicationdelegate/1428564-applicationdockmenu" target="_self" class="urlLink">applicationDockMenu:</a></code> method.</p><p>You can also customize a dock tile when your app is not currently running by creating a Dock tile plug-in that can update the Dock tile icon and menu. For example, you may want to update the badge text to indicate that new content will be available the next time the app is launched, and you may want to customize the app’s Dock menu to deal with the new content.</p><p>For information explaining how to customize your app’s Dock icon and menu, see <em><!--a target="_self" -->Dock Tile Programming Guide<!--/a--></em>.</p></section>
        <div id="pageNavigationLinks_bottom" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='../BuildTimeConfiguration/BuildTimeConfiguration.html'>Next</a><a class='previousLink' rel='prev' href='../FullScreenApp/FullScreenApp.html'>Previous</a>
        </div><br/>
        <div class="copyright"><br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> Copyright &#x00a9; 2015 Apple Inc. All Rights Reserved. <a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank">Terms of Use</a>   |  <a href="http://www.apple.com/privacy/" target="_blank">Privacy Policy</a>  |  Updated: 2015-03-09</p></div></div>

        <div id="pediaWindow">
            <div id="pediaHeader"></div>
            <div id="pediaBody"></div>
        </div>
    </article>

    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="https://developer.apple.com/bugreporter/" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

    
    <script charset="utf-8" src="../../../../../Resources/1260/JavaScript/lib/prototype.js"></script>
    <script src="../../../../../Resources/1260/JavaScript/library.js"></script>
    <script src="../../../../../Resources/1260/JavaScript/feedback.js"></script>
</body>
</html>

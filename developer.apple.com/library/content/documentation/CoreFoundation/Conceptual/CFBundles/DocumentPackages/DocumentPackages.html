<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document Packages</title>
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta charset="utf-8">
    <meta id="book-resource-type" name="book-resource-type" content="Guide">
    <meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/10000123i">
    <meta id="document-version" name="document-version" content="6.7.0">
    <meta id="build" name="build" content="ded95564c405529dbbbe590063edd114" />
    <meta id="chapterId" name="chapterId" content="10000123i-CH106">
    <meta id="date" name="date" content="2017-03-21">
    <meta id="description" name="description" content="Explains how to use bundle objects to organize resources.">
    <meta id="book-title" name="book-title" content="Bundle Programming Guide">
    <meta id="book-root" name="book-root" content="../">
    <meta id="book-json" name="book-json" content="../book.json">
    <meta id="devcenter" name="devcenter" content="Mac Dev Center">
    <meta id="devcenter-url" name="devcenter-url" content="http://developer.apple.com/devcenter/mac">
    <meta id="reflib" name="reflib" content="Guides and Sample Code">
    <meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Topic/Data Management/File Management}">
    
    
    <meta id="copyright" name="copyright" content="Copyright 2017 Apple Inc. All Rights Reserved.">
    <meta id="xcode-display" name="xcode-display" content="render">
    <meta id="IndexTitle" name="IndexTitle" content="Bundle Programming Guide: Document Packages">
    <meta id="resources-uri" name="resources-uri" content="../../../../../Resources/1260">
    <link id="book-index-page" rel="Start" title="Bundle Programming Guide" type="text/html" href="../index.html">
    <link id="next-page" rel="Next" type="text/html" href="../Glossary/Glossary.html">
    <link id="previous-page" rel="Prev" type="text/html" href="../AccessingaBundlesContents/AccessingaBundlesContents.html">
    <link rel="stylesheet" type="text/css" href="../../../../../Resources/1260/CSS/screen.css">
    
    <!-- xcode_css -->
    <link rel="stylesheet" type="text/css" href="../../../../../Resources/1260/CSS/feedback.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta id="platforms" name="platforms" content="">
</head>    
<body><a name="//apple_ref/doc/uid/10000123i-CH106" title="Document Packages"></a>
    <div id="_omniture_top">
    <!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
    <script type="text/javascript">
    /* RSID: */
    var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
    </script>

    <script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script>
    <script type="text/javascript">
    s.pageName=AC.Tracking.pageName();
    s.channel="www.us.developer"

    /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
    var s_code=s.t();if(s_code)document.write(s_code)</script>
    <!-- End SiteCatalyst code version: H.8. -->
    </div>

    <div id="adcHeader" class="hideOnPrint hideInXcode">
        <div id='ssi_Header' class="hideInXcode unified">
            <a id="ssi_LibraryTitle" href='../../../../../navigation/'>Guides and Sample Code</a>
            <a id="ssi_AppleDeveloperConnection" href='https://developer.apple.com/'>Developer</a>
            <div id='ssi_SearchButton' role="button" title="Search">Search</div>
        </div>
        <form id='ssi_SearchMenu' method='get' action='../../../../../search/' accept-charset='utf-8'>
            <label for='adcsearch'>Search Guides and Sample Code</label>
            
            
    
            <input type='search' id='ssi_SearchField' name='q' accesskey='s' results='5' />
        </form>
    </div>

    <header id="header">
        <div id="title" role="banner">
            <h1>Bundle Programming Guide</h1>
            <span id="file_links">
                <a id="PDF_link" role="button" tabindex='4' rel="alternate" title="Download PDF"><span id="pdf_icon"></span>PDF</a>
                <a id="Companion_link" role="button" tabindex='3' title="Download Companion File"><span id="companion_icon"></span>Companion File</a>
            </span>
        </div>
        <ul id="headerButtons" class="hideOnPrint" role="toolbar">
            <li id="toc_button" style="display:none">
                <button tabindex="5" id="table_of_contents" class="open" role="checkbox" aria-label="Show Table of Contents"><span class="disclosure"></span>Table of Contents</button>
            </li>
            <li id="jumpto_button" style="display:none" role="navigation"><select tabindex="6" id="jumpTo"><option value="top">Jump To&#133;</option></select></li>
            <li id="downloadSample_button" style="display:none">
                <a id="Sample_link"><button id="Sample_button">Download Sample Code</button></a>
            </li>
        </ul>
    </header>
    <nav id="tocContainer" tabindex="7">
        <ul id="toc" role="tree"></ul>
    </nav>

    <article id="contents" tabindex="0" role="main">
        <div id="pageNavigationLinks_top" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='../Glossary/Glossary.html'>Next</a><a class='previousLink' rel='prev' href='../AccessingaBundlesContents/AccessingaBundlesContents.html'>Previous</a>
        </div>
        <a id="top" name="top"></a>
        <a id="INDEX" href="../index.html" style="display:none;"></a>
        
        <a name="//apple_ref/doc/uid/10000123i-CH106-SW1" title="Document Packages"></a><h1 id="pageTitle">Document Packages</h1><p>If your document file formats are getting too complex to manage because of several disparate types of data, you might consider adopting a package format for your documents. Document packages give the illusion of a single document to users but provide you with flexibility in how you store the document data internally. Especially if you use several different types of standard data formats, such as JPEG, GIF, or XML, document packages make accessing and managing that data much easier.</p><section><a name="//apple_ref/doc/uid/10000123i-CH106-SW2" title="Defining Your Document Directory Structure"></a><h2 class="jump">Defining Your Document Directory Structure</h2><p>Apple does not prescribe any specific structure for document packages. The contents and organization of the package directory are left to you. You are encouraged, however, to create either a flat directory structure or use the framework bundle structure, which involves placing your files in a top-level <code>Resources</code> subdirectory. (For more information about the bundle structure of frameworks, see <span class="content_text"><a href="../BundleTypes/BundleTypes.html#//apple_ref/doc/uid/10000123i-CH101-SW26" data-renderer-version="1">Framework Bundles</a></span>.)</p></section><section><a name="//apple_ref/doc/uid/10000123i-CH106-SW3" title="Registering Your Document Type"></a><h2 class="jump">Registering Your Document Type</h2><p>To register a document as a package, you must modify the document type information in your application’s <span class="pediaLink" data-header="Property list" data-contents="A property list is a representation of a hierarchy of objects that can be stored in the file system and reconstituted later. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/PropertyList.html#//apple_ref/doc/uid/TP40008195-CH44" data-renderer-version="1" target="_self">information property list</a></span> (<code>Info.plist</code>) file. The <code><!--a  -->CFBundleDocumentTypes<!--/a--></code> key stores information about the document types your application supports. For each document package type, include the <code><!--a  -->LSTypeIsPackage<!--/a--></code> key with an appropriate value. The presence of this key tells the Finder and Launch Services to treat directories with the given file extension as a package. For more information about <code>Info.plist</code> keys, see <em><a href="../../../../General/Reference/InfoPlistKeyReference/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009247" data-renderer-version="1" target="_self">Information Property List Key Reference</a></em>.</p><p>Document packages should always have an extension to identify them—even though that extension may be hidden by the user. The extension allows the Finder to identify your document directory and treat it as a package. You should never associate a document package with a MIME type or 4-byte OS type.</p></section><section><a name="//apple_ref/doc/uid/10000123i-CH106-SW5" title="Creating a New Document Package"></a><h2 class="jump">Creating a New Document Package</h2><p>When it is time for your application to create a new document, it can do so in one of two ways: </p><ul class="ul"><li class="li"><p>Use an <code><a href="https://developer.apple.com/reference/foundation/nsfilewrapper" target="_self" class="urlLink">NSFileWrapper</a></code> object to create the document package.</p></li><li class="li"><p>Create the document package manually. </p></li></ul><p>If you are creating a Cocoa application, the <code>NSFileWrapper</code> class is the preferred way to create document packages because it ties in with the existing support in <code><a href="https://developer.apple.com/reference/appkit/nsdocument" target="_self" class="urlLink">NSDocument</a></code> for reading and writing your document contents. (The <code>NSFileWrapper</code> class is also available in iOS 4.0 and later as part of the Foundation framework.) For information on how to use this class, see <em><a href="https://developer.apple.com/reference/foundation/filewrapper" target="_self" class="urlLink">NSFileWrapper Class Reference</a></em>. </p><p>If you are writing a command-line tool or other type of application that does not use the higher-level Objective-C <span class="pediaLink" data-header="Framework" data-contents="A framework is a bundle (a structured directory) that contains a dynamic shared library along with associated resources, such as nib files, image files, and header files. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Framework.html#//apple_ref/doc/uid/TP40008195-CH56" data-renderer-version="1" target="_self">frameworks</a></span> (such as AppKit or UIKit), you can still create document packages manually. The important thing to remember about creating a document package is that it is just a directory. As long as the type of the document package is registered (as described in <span class="content_text"><a href="#//apple_ref/doc/uid/10000123i-CH106-SW3" data-renderer-version="1">Registering Your Document Type</a></span>), all you have to do is create a directory with the appropriate filename extension. (The Finder uses the filename extension as its cue to treat the directory as a package.) You can create the directory (and create any files you want to put inside that directory) using the standard BSD file system routines or using the <code><a href="https://developer.apple.com/reference/foundation/nsfilemanager" target="_self" class="urlLink">NSFileManager</a></code> class in the Foundation framework. </p></section><section><a name="//apple_ref/doc/uid/10000123i-CH106-SW4" title="Accessing Your Document Contents"></a><h2 class="jump">Accessing Your Document Contents</h2><p>There are several ways to access the contents of a document package. Because a document package is a directory, you can access the document's contents using any appropriate file-system routines. If you use a bundle structure for your document package, you can also use the <code><a href="https://developer.apple.com/reference/foundation/bundle" target="_self" class="urlLink">NSBundle</a></code> or <code><a href="https://developer.apple.com/reference/corefoundation/cfbundle" target="_self" class="urlLink">CFBundleRef</a></code> routines. Use of a bundle structure is especially appropriate for documents that store multiple localizations. </p><p>If your document package uses a flat directory structure or contains a fixed set of content files, you might find using file-system routines faster and easier than using <code>NSBundle</code> or <code>CFBundleRef</code>. However, if the contents of your document can fluctuate, you should consider using a bundle structure and <code>NSBundle</code> or <code>CFBundleRef</code> to simplify the dynamic discovery of files inside your document.  </p><p>If you are creating a Cocoa application, you must also remember to customize the way your <code>NSDocument</code> subclass loads the contents of the document package. The traditional technique of using the <code><a href="https://developer.apple.com/reference/appkit/nsdocument/1515198-readfromdata" target="_self" class="urlLink">readFromData:ofType:error:</a></code> and <code><a href="https://developer.apple.com/reference/appkit/nsdocument/1515205-dataoftype" target="_self" class="urlLink">dataOfType:error:</a></code> methods to read and write data are intended for a single file document. To handle a document package, you must use the <code><a href="https://developer.apple.com/reference/appkit/nsdocument/1515044-readfromfilewrapper" target="_self" class="urlLink">readFromFileWrapper:ofType:error:</a></code> and <code><a href="https://developer.apple.com/reference/appkit/nsdocument/1515089-filewrapper" target="_self" class="urlLink">fileWrapperOfType:error:</a></code> methods instead. For information about reading and writing document data from your <code>NSDocument</code> subclass, see <em><!--a target="_self" -->Document-Based Applications Overview<!--/a--></em>.</p></section>
        <div id="pageNavigationLinks_bottom" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='../Glossary/Glossary.html'>Next</a><a class='previousLink' rel='prev' href='../AccessingaBundlesContents/AccessingaBundlesContents.html'>Previous</a>
        </div><br/>
        <div class="copyright"><br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> Copyright &#x00a9; 2017 Apple Inc. All Rights Reserved. <a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank">Terms of Use</a>   |  <a href="http://www.apple.com/privacy/" target="_blank">Privacy Policy</a>  |  Updated: 2017-03-21</p></div></div>

        <div id="pediaWindow">
            <div id="pediaHeader"></div>
            <div id="pediaBody"></div>
        </div>
    </article>

    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="https://developer.apple.com/bugreporter/" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

    
    <script charset="utf-8" src="../../../../../Resources/1260/JavaScript/lib/prototype.js"></script>
    <script src="../../../../../Resources/1260/JavaScript/library.js"></script>
    <script src="../../../../../Resources/1260/JavaScript/feedback.js"></script>
</body>
</html>
